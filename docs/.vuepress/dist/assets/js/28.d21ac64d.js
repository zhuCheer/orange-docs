(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{377:function(e,t,s){"use strict";s.r(t);var n=s(42),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—"}},[e._v("#")]),e._v(" æ¶ˆæ¯é˜Ÿåˆ—")]),e._v(" "),s("p",[e._v("åœ¨æ—¥å¸¸ä¸šåŠ¡å¼€å‘éœ€æ±‚ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°æ¶ˆæ¯é˜Ÿåˆ— rocketmqï¼Œnsqï¼Œkafkaç­‰å·¥å…·æ¥å®Œæˆè¯¸å¦‚æ’é˜Ÿï¼Œç§’æ€ï¼Œå¼‚æ­¥å¤„ç†ç­‰ä¸šåŠ¡ï¼›")]),e._v(" "),s("p",[e._v("ä¸ºäº†èƒ½è®©æˆ‘ä»¬æ–¹ä¾¿å¿«æ·çš„æ¥å…¥å„ç§æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒOrangeæ¡†æ¶å¯¹æ—¥å¸¸ä½¿ç”¨çš„é˜Ÿåˆ—ç”Ÿäº§/é˜Ÿåˆ—æ¶ˆè´¹è¿›è¡Œäº†å°è£…ï¼ŒåŸºäºæ¥å£è¿›è¡Œå®ç°ï¼Œæ— è®ºä½¿ç”¨ä½•ç§æ¶ˆæ¯é˜Ÿåˆ—ï¼Œéƒ½åªæ˜¯ä¸€ä¸ªé…ç½®çš„é—®é¢˜ï¼›")]),e._v(" "),s("p",[e._v("é¢†å¯¼è¯´ç”¨rocketmqæˆ‘ä»¬å°±ç”¨rocketmqï¼Œé¢†å¯¼è¯´æ¢æˆredisï¼Œæˆ‘ä»¬å°±ç»™ä»–æ¢æˆredisï¼Œå®Œå…¨ä¸æ…Œï¼Œæå¤§ç®€åŒ–æ¥å…¥æˆæœ¬ï¼›ğŸ˜ğŸ˜ğŸ˜")]),e._v(" "),s("h2",{attrs:{id:"ç»„ä»¶è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶è¯´æ˜"}},[e._v("#")]),e._v(" ç»„ä»¶è¯´æ˜")]),e._v(" "),s("ul",[s("li",[e._v("ç»„ä»¶åŸºäºæ¥å£å®ç°ï¼Œä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®š")]),e._v(" "),s("li",[e._v("ç›®å‰æ”¯æŒäº† rocketmqã€redisé©±åŠ¨ï¼›")])]),e._v(" "),s("h2",{attrs:{id:"é…ç½®è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®è¯´æ˜"}},[e._v("#")]),e._v(" é…ç½®è¯´æ˜")]),e._v(" "),s("p",[e._v("å¦‚ä¸‹æ˜¯å®Œæ•´çš„é…ç½®é€‰é¡¹ï¼š")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('[queue]\n    driver="redis" // rocketmq æˆ– redis\n    retry=2 // é‡è¯•æ¬¡æ•°\n    endpoints=["192.168.1.1:6379"] // brocker æˆ– redis æœåŠ¡åœ°å€ï¼Œå½“ç”¨redisé©±åŠ¨æ˜¯åªç”¨å¡«ä¸€ä¸ªä¸»åº“åœ°å€å³å¯\n    passwd="123456" // redisé©±åŠ¨ä¸“å±é…ç½®ï¼Œrediså¯†ç \n    redisdb=4 // redisé©±åŠ¨ä¸“å±é…ç½®ï¼Œredisåº“ç¼–å·\n    timeout=3600 // redisä¸“å±é…ç½®ï¼Œé˜Ÿåˆ—è¶…æ—¶æ—¶é—´(s) ï¼Œå½“é˜Ÿåˆ—ä¸€ç›´æ²¡æœ‰è¢«æ¶ˆè´¹åˆ°è¾¾è¶…æ—¶æ—¶é—´åˆ™é˜Ÿåˆ—ä¼šè¢«é”€æ¯\n')])])]),s("h2",{attrs:{id:"ä½¿ç”¨æŒ‡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æŒ‡å—"}},[e._v("#")]),e._v(" ä½¿ç”¨æŒ‡å—")]),e._v(" "),s("h3",{attrs:{id:"æ³¨å†Œç”Ÿäº§è€…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œç”Ÿäº§è€…"}},[e._v("#")]),e._v(" æ³¨å†Œç”Ÿäº§è€…")]),e._v(" "),s("ul",[s("li",[e._v("é€šè¿‡å¦‚ä¸‹ä»£ç æ³¨å†Œç”Ÿäº§è€…å¹¶å‘é˜Ÿåˆ—å‘é€ä¸€æ¡æ¶ˆæ¯ï¼›")]),e._v(" "),s("li",[e._v("å‚æ•°è¯´æ˜ï¼Œæ³¨å†Œæ–¹æ³• "),s("code",[e._v("NewProducer")]),e._v(" éœ€è¦ä¼ å…¥é˜Ÿåˆ— group åç§°ï¼›")]),e._v(" "),s("li",[e._v("æ¶ˆæ¯å‘é€æ–¹æ³• "),s("code",[e._v("SendMsg")]),e._v(" éœ€è¦æŒ‡å®šæ¶ˆæ¯é˜Ÿåˆ— topic åç§°å’Œæ¶ˆæ¯ä½“å†…å®¹ï¼›")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('client, _:= queue.NewProducer("test")\nret, err := client.SendMsg("test-topic", "Hello Worldï¼")\n')])])]),s("h3",{attrs:{id:"æ³¨å†Œæ¶ˆè´¹è€…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œæ¶ˆè´¹è€…"}},[e._v("#")]),e._v(" æ³¨å†Œæ¶ˆè´¹è€…")]),e._v(" "),s("p",[e._v("æ¶ˆè´¹è€…é‡‡ç”¨çš„æ˜¯ç›‘å¬å¹¶æ‰§è¡Œå›è°ƒæ–¹æ³•çš„æ¨¡å¼å®ç°ï¼Œæ³¨å†Œå¥½æ¶ˆè´¹è€…åï¼Œç¨‹åºä¼šæŒç»­åœ°ç›‘å¬é˜Ÿåˆ—å¹¶æ¶ˆè´¹æ•°æ®ï¼›")]),e._v(" "),s("p",[e._v("å’Œç”Ÿäº§è€…ä¸€æ ·ï¼Œæ¶ˆè´¹è€…æ–¹æ³• "),s("code",[e._v("NewConsumer")]),e._v(" éœ€è¦ä¼ å…¥é˜Ÿåˆ— group åç§°ï¼›")]),e._v(" "),s("p",[e._v("æ¶ˆè´¹è€…æ¶ˆæ¯ç›‘å¬æ–¹æ³• "),s("code",[e._v("ListenReceiveMsgDo")]),e._v(" ä¼ å…¥æ¶ˆæ¯ topic å’Œä¸€ä¸ªæ¶ˆæ¯å¤„ç†çš„å›è°ƒæ–¹æ³•ï¼Œæ¥å—åˆ°æ¶ˆæ¯åçš„å¤„ç†é€»è¾‘éƒ½æ”¾åœ¨è¯¥å›è°ƒæ–¹æ³•ä¸­å³å¯å®Œæˆæ¶ˆè´¹æµç¨‹ï¼›")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('client, _ := queue.NewConsumer("test")\n\nclient.ListenReceiveMsgDo("test", func(mqMsg queue.MqMsg) {\n   fmt.Println("recive===>", mqMsg, mqMsg.BodyString())\n})\n')])])]),s("h3",{attrs:{id:"å®Œæ•´ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´ç¤ºä¾‹"}},[e._v("#")]),e._v(" å®Œæ•´ç¤ºä¾‹")]),e._v(" "),s("ul",[s("li",[e._v("å…ˆå‡†å¤‡å¥½ä¸€ä¸ªredisæœåŠ¡ä½œä¸ºç¤ºä¾‹")]),e._v(" "),s("li",[e._v("åœ¨ GOPATH ä¸‹åˆ›å»ºä¸€ä¸ªdemoç›®å½•ï¼Œç›®å½•ä¸­åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ main.go, config.toml;")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('main.go\n------------------\npackage main\n\nimport (\n   "gitee.com/zhucheer/orange/app"\n   "gitee.com/zhucheer/orange/queue"\n   "fmt"\n)\n\nfunc main(){\n   router := &Route{}\n   app.AppStart(router)\n}\n\ntype Route struct {\n}\n\nfunc (s *Route) ServeMux() {\n   app.NewRouter("").GET("/", func(ctx *app.Context) error {\n   \n     client, _ := queue.NewProducer("test")\n\n     ret, _ := client.SendMsg("test", "hello mq producer!")\n   \n      return ctx.ToJson(ret)\n   })\n}\n\nfunc (s *Route) Register() {\n\n\n   client, _ := queue.NewConsumer("test")\n   client.ListenReceiveMsgDo("test", func(mqMsg queue.MqMsg) {\n      fmt.Println("recive msg===>", mqMsg.BodyString())\n   })\n\n}\n')])])]),s("p",[e._v("åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¥½å¯¹åº”çš„redisæœåŠ¡ä¿¡æ¯")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('config.toml\n------------------\n[queue]\n    driver="redis"\n    retry=2\n    endpoints=["192.168.1.1:6379"]\n    passwd="123456"\n    redisdb=4\n    timeout=3600\n')])])]),s("p",[e._v("æœ€åæ‹‰å–ä¾èµ–å¹¶æ‰§è¡Œï¼ˆå¼€å¯ go modulsï¼‰")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("go mod init\ngo mod tidy\ngo run main.go --config=config.toml\n\n")])])]),s("p",[e._v("ç¨‹åºå¯åŠ¨åè®¿é—® http://127.0.0.1:8088/ å³å¯çœ‹åˆ°ç”Ÿäº§å’Œæ¶ˆè´¹çš„è¿‡ç¨‹ï¼›")])])}),[],!1,null,null,null);t.default=r.exports}}]);