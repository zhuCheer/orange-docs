(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{359:function(s,e,t){"use strict";t.r(e);var a=t(25),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"项目编译-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目编译-部署"}},[s._v("#")]),s._v(" 项目编译/部署")]),s._v(" "),t("h2",{attrs:{id:"项目编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目编译"}},[s._v("#")]),s._v(" 项目编译")]),s._v(" "),t("ul",[t("li",[s._v("通过 "),t("code",[s._v("go build main.go")]),s._v(" 命令可以将项目编译成一个二进制可执行文件；")]),s._v(" "),t("li",[s._v("将 可执行文件和 config，storage目录打包即生成一个构建好的项目；")]),s._v(" "),t("li",[s._v("通过 orange 命令也能快速的将项目编译并打包，通过如下命令完成")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("> window： `orange.exe build`\n> linux：`orange build`\n")])])]),t("h2",{attrs:{id:"项目部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目部署"}},[s._v("#")]),s._v(" 项目部署")]),s._v(" "),t("h3",{attrs:{id:"supervisord部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supervisord部署"}},[s._v("#")]),s._v(" Supervisord部署")]),s._v(" "),t("ul",[t("li",[s._v("安装 Supervisord")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wget https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11-py2.7.egg\n\nsh setuptools-0.6c11-py2.7.egg\n\neasy_install supervisor\n\necho_supervisord_conf >/etc/supervisord.conf\n\nmkdir /etc/supervisord.conf.d\n")])])]),t("ul",[t("li",[s._v("修改配置 "),t("code",[s._v("/etc/supervisord.conf")])])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[include]\nfiles = /etc/supervisord.conf.d/*.conf\n")])])]),t("ul",[t("li",[s._v("新建项目配置")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /etc/supervisord.conf.d\nvim orangepkg.conf\n")])])]),t("ul",[t("li",[s._v("配置文件"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("  [program:orangepkg]\n  directory = /opt/app/orangepkg\n  command = /opt/app/orangepkg/orange\n  autostart = true\n  startsecs = 5\n  user = root\n  redirect_stderr = true\n  stdout_logfile = /var/log/supervisord/orangepkg.log\n")])])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);