# 中间件
Orange 中间件是一个用来过滤进入应用 HTTP 请求的工具。可以通过它来方便实现登陆状态校验，权限校验，CSRF验证等等。

中间件都放在 middleware 目录下，可以参考内置中间件进行开发；

下面是一个请求 header 头状态检测中间件示例：
```
package middleware

import (
   "fmt"
   "gitee.com/zhucheer/orange/app"
)

type VerifyHeader struct {
}

func NewVerifyHeader () *VerifyHeader {
   return &VerifyHeader {}
}

// Func implements Middleware interface.
func (w VerifyHeader ) Func() app.MiddlewareFunc {
   return func(next app.HandlerFunc) app.HandlerFunc {
      return func(c *app.Context) error {
       
        // 状态验证逻辑
         fmt.Println("VerifyHeader middleware")
         if c.Request().Header.Get("auth") == "" {
           c.ResponseWrite([]byte("header verify middleware break"))
           return errors.New("header verify middleware break")
         }
         return next(c)

      }
   }
}

```
